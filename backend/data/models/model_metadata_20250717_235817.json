{
  "pipeline_id": "20250717_235817",
  "timestamp": "2025-07-17T23:59:31.820559",
  "model_type": "XGBoostOreGradePredictor",
  "model_path": "data\\models\\grade_model_20250717_235817.joblib",
  "scaler_path": "data\\models\\scaler_20250717_235817.joblib",
  "element": "CU",
  "config": {
    "model_config": {
      "algorithm": "xgboost",
      "target_variable": "standardized_grade_ppm",
      "test_size": 0.2,
      "random_state": 42,
      "cv_folds": 5
    },
    "xgboost_params": {
      "objective": "reg:squarederror",
      "max_depth": 6,
      "learning_rate": 0.1,
      "n_estimators": 100,
      "subsample": 0.8,
      "colsample_bytree": 0.8,
      "random_state": 42
    },
    "feature_engineering": {
      "spatial_features": true,
      "geological_features": true,
      "statistical_features": true,
      "distance_features": true
    },
    "validation_metrics": {
      "primary": [
        "r2",
        "mae",
        "rmse"
      ],
      "secondary": [
        "mape",
        "explained_variance"
      ]
    },
    "data_sources": {
      "main_view": "vw_HoleSamples_ElementGrades",
      "elements": [
        "Cu",
        "Au",
        "Zn",
        "Pb",
        "Fe",
        "Ag"
      ],
      "datasets": [
        "Drilling_INF",
        "Drilling_BF",
        "Drilling_OP"
      ],
      "depth_columns": [
        "Depth_From",
        "Depth_To",
        "Interval_Length"
      ],
      "coordinate_columns": [
        "latitude",
        "longitude",
        "elevation"
      ]
    },
    "preprocessing": {
      "handle_missing": "median",
      "outlier_detection": "iqr",
      "scaling": "standard",
      "feature_selection": "correlation"
    }
  },
  "evaluation_results": {
    "model_name": "XGBoostOreGradePredictor_20250717_235817",
    "evaluation_timestamp": "2025-07-17T23:58:53.799833",
    "test_metrics": {
      "rmse": 618.4834701838055,
      "r2_score": 0.9113586383168064,
      "mae": 23.391892950501717,
      "mse": 382521.80289060227,
      "explained_variance": 0.9113757062976815,
      "mape": 10.526563978249246,
      "bias": 8.582246047368558,
      "relative_bias_percent": 1.6331419949626316,
      "cutoff_100ppm_accuracy": 1.0,
      "cutoff_500ppm_accuracy": 0.9993185109464179,
      "cutoff_1000ppm_accuracy": 0.9990629525513246,
      "cutoff_2000ppm_accuracy": 0.9983814634977426
    },
    "train_metrics": {
      "rmse": 52.543403941278925,
      "r2_score": 0.9993995877406083,
      "mae": 9.75813132400724,
      "mse": 2760.809297736406,
      "explained_variance": 0.9993995917737267,
      "mape": 10.56667506948356,
      "bias": -0.13618018352722616,
      "relative_bias_percent": -0.026587248114372734,
      "cutoff_100ppm_accuracy": 0.999946757533809,
      "cutoff_500ppm_accuracy": 0.9990416356085614,
      "cutoff_1000ppm_accuracy": 0.9995740602704717,
      "cutoff_2000ppm_accuracy": 0.9986423171121286
    },
    "cv_metrics": {
      "neg_mean_squared_error_mean": -546504.4985541679,
      "neg_mean_squared_error_std": 618224.878838307,
      "neg_mean_squared_error_scores": [
        -1365647.7068400378,
        -27626.98537734817,
        -66219.44227294018,
        -34889.99652028953,
        -1238138.3617602235
      ],
      "neg_mean_absolute_error_mean": -25.50739210361898,
      "neg_mean_absolute_error_std": 9.306886755422978,
      "neg_mean_absolute_error_scores": [
        -40.152515382943164,
        -16.985144481636087,
        -19.207238521395677,
        -18.306493491446084,
        -32.88556864067388
      ],
      "r2_mean": 0.9051713047774766,
      "r2_std": 0.10686197140318988,
      "r2_scores": [
        0.7269466419217328,
        0.9902841618696222,
        0.9816466497937733,
        0.9912787100406629,
        0.8357003602615922
      ],
      "rmse_mean": 739.2594257459068,
      "rmse_std": 618224.878838307,
      "mae_mean": 25.50739210361898,
      "mae_std": 9.306886755422978
    },
    "feature_importance": [
      0.0007757720304653049,
      0.013947319239377975,
      0.000526218384038657,
      0.0008977004908956587,
      0.0008442681864835322,
      0.003103559371083975,
      0.0013547277776524425,
      0.0014073820784687996,
      0.0002604490437079221,
      0.000370997964637354,
      0.0952259972691536,
      0.003098646644502878,
      9.471571684116498e-05,
      0.0006286277202889323,
      0.001962062669917941,
      0.1949830800294876,
      0.08506319671869278,
      0.008115808479487896,
      0.03551943600177765,
      0.00011192043893970549,
      0.0002416544157313183,
      0.002082014922052622,
      0.03000677563250065,
      0.006979439407587051,
      0.00399332819506526,
      0.0,
      0.0,
      0.0,
      0.00020751351257786155,
      0.00026985237491317093,
      0.0,
      0.0,
      9.21916653169319e-05,
      0.001432132674381137,
      0.0001600436953594908,
      0.0002861559623852372,
      0.000333344069076702,
      0.00035069361911155283,
      0.0002418373042019084,
      0.007260377053171396,
      0.0004218108078930527,
      0.027888810262084007,
      0.0002324280794709921,
      0.005399906542152166,
      0.0006684481049887836,
      0.000912447867449373,
      0.00035265565384179354,
      0.29009735584259033,
      0.02738732285797596,
      0.0,
      0.00030357608920894563,
      0.0,
      0.0059701818972826,
      0.12790274620056152,
      0.0,
      0.0,
      0.0,
      0.0004922933294437826,
      0.009740752167999744
    ]
  },
  "feature_names": [
    "latitude",
    "longitude",
    "elevation",
    "mid_depth",
    "Interval_Length",
    "grade_tonnage",
    "lat_lon_ratio",
    "distance_from_center",
    "depth_ratio",
    "interval_ratio",
    "log_grade",
    "grade_per_meter",
    "element_encoded",
    "dataset_encoded",
    "labcode_encoded",
    "sample_mean",
    "sample_std",
    "sample_min",
    "sample_max",
    "sample_count",
    "hole_mean",
    "hole_std",
    "hole_min",
    "hole_max",
    "hole_count",
    "element_mean",
    "element_std",
    "element_count",
    "dataset_mean",
    "dataset_std",
    "dataset_count",
    "depth_normalized",
    "elevation_normalized",
    "Depth_From",
    "Depth_To",
    "lat_norm",
    "lon_norm",
    "distance_to_center",
    "angle_from_center",
    "quadrant",
    "grade_rolling_mean",
    "grade_rolling_std",
    "grade_rolling_median",
    "local_coefficient_variation",
    "grade_rolling_q25",
    "grade_rolling_q75",
    "local_iqr",
    "grade_log",
    "grade_sqrt",
    "grade_squared",
    "grade_category",
    "grade_category_encoded",
    "is_anomaly",
    "anomaly_score",
    "avg_neighbor_distance",
    "min_neighbor_distance",
    "max_neighbor_distance",
    "avg_neighbor_grade",
    "grade_vs_neighbors"
  ]
}