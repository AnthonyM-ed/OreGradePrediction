{
  "pipeline_id": "20250713_222116",
  "timestamp": "2025-07-13T22:21:28.641367",
  "model_type": "XGBoostOreGradePredictor",
  "model_path": "data\\models\\grade_model_20250713_222116.joblib",
  "scaler_path": "data\\models\\scaler_20250713_222116.joblib",
  "config": {
    "model_config": {
      "algorithm": "xgboost",
      "target_variable": "standardized_grade_ppm",
      "test_size": 0.2,
      "random_state": 42,
      "cv_folds": 5
    },
    "xgboost_params": {
      "objective": "reg:squarederror",
      "max_depth": 6,
      "learning_rate": 0.1,
      "n_estimators": 100,
      "subsample": 0.8,
      "colsample_bytree": 0.8,
      "random_state": 42
    },
    "feature_engineering": {
      "spatial_features": true,
      "geological_features": true,
      "statistical_features": true,
      "distance_features": true
    },
    "validation_metrics": {
      "primary": [
        "r2",
        "mae",
        "rmse"
      ],
      "secondary": [
        "mape",
        "explained_variance"
      ]
    },
    "data_sources": {
      "main_view": "vw_HoleSamples_ElementGrades",
      "elements": [
        "Cu",
        "Au",
        "Zn",
        "Pb",
        "Fe",
        "Ag"
      ],
      "datasets": [
        "Drilling_INF",
        "Drilling_BF",
        "Drilling_OP"
      ],
      "depth_columns": [
        "Depth_From",
        "Depth_To",
        "Interval_Length"
      ],
      "coordinate_columns": [
        "latitude",
        "longitude",
        "elevation"
      ]
    },
    "preprocessing": {
      "handle_missing": "median",
      "outlier_detection": "iqr",
      "scaling": "standard",
      "feature_selection": "correlation"
    }
  },
  "evaluation_results": {
    "model_name": "XGBoostOreGradePredictor_20250713_222116",
    "evaluation_timestamp": "2025-07-13T22:21:21.457358",
    "test_metrics": {
      "rmse": 65.08117307990135,
      "r2_score": 0.9812361397562871,
      "mae": 36.66476697921753,
      "mse": 4235.5590894560755,
      "explained_variance": 0.9843830561591062,
      "mape": 61.75497165035225,
      "bias": -26.652434253692626,
      "relative_bias_percent": -10.637571045177658,
      "cutoff_100ppm_accuracy": 0.95,
      "cutoff_500ppm_accuracy": 0.95,
      "cutoff_1000ppm_accuracy": 1.0,
      "cutoff_2000ppm_accuracy": 1.0
    },
    "train_metrics": {
      "rmse": 64.31015539571395,
      "r2_score": 0.9995594781761614,
      "mae": 13.78375057131052,
      "mse": 4135.796087020875,
      "explained_variance": 0.9995597569072385,
      "mape": 5.530364810562835,
      "bias": -1.617664821445942,
      "relative_bias_percent": -0.256966575838718,
      "cutoff_100ppm_accuracy": 0.984375,
      "cutoff_500ppm_accuracy": 1.0,
      "cutoff_1000ppm_accuracy": 1.0,
      "cutoff_2000ppm_accuracy": 1.0
    },
    "cv_metrics": {
      "neg_mean_squared_error_mean": -7463043.76443502,
      "neg_mean_squared_error_std": 14846032.539429191,
      "neg_mean_squared_error_scores": [
        -27720.865872759365,
        -37155044.374433815,
        -36411.46486680378,
        -622.7100554951213,
        -95419.40694623535
      ],
      "neg_mean_absolute_error_mean": -406.91985648717633,
      "neg_mean_absolute_error_std": 662.3082683104353,
      "neg_mean_absolute_error_scores": [
        -69.18733024597168,
        -1729.4823824075552,
        -88.0948320535513,
        -16.49086200273954,
        -131.34387572606406
      ],
      "r2_mean": 0.7118410818589431,
      "r2_std": 0.2993337692740122,
      "r2_scores": [
        0.8606292614611706,
        0.122407691301618,
        0.9377904017257734,
        0.8657380600048027,
        0.772639994801351
      ],
      "rmse_mean": 2731.8572005935853,
      "rmse_std": 14846032.539429191,
      "mae_mean": 406.91985648717633,
      "mae_std": 662.3082683104353
    },
    "feature_importance": [
      0.0002969172492157668,
      0.0001742558815749362,
      0.0012459405697882175,
      0.0008208880317397416,
      0.0032672362867742777,
      0.43942129611968994,
      0.00012350274482741952,
      5.378911373554729e-05,
      1.3067899999441579e-05,
      0.00017329779802821577,
      0.2031213790178299,
      0.3332209587097168,
      0.0,
      0.0,
      0.0,
      0.003703233553096652,
      0.0,
      3.742588887689635e-05,
      0.0,
      0.0,
      0.00012599426554515958,
      0.0001371486869174987,
      1.3320902780833421e-06,
      2.106706915583345e-06,
      2.3684156076342333e-06,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      2.263875285279937e-05,
      0.0,
      0.0,
      2.2085885120759485e-06,
      0.0,
      2.2132619506010087e-06,
      0.0,
      0.0,
      2.116007408403675e-06,
      1.025111259878031e-06,
      1.3212875273893587e-05,
      3.443986543061328e-06,
      0.0010575295891612768,
      0.012411046773195267,
      3.3854081493700505e-07,
      0.0,
      0.0,
      0.0,
      0.0,
      1.2041967920595198e-06,
      0.0,
      0.00047597233788110316,
      9.108770427701529e-06,
      1.7779480003810022e-06,
      1.6729678691262961e-06,
      3.052123065572232e-05,
      2.1853213183931075e-05
    ]
  },
  "feature_names": [
    "latitude",
    "longitude",
    "elevation",
    "mid_depth",
    "Interval_Length",
    "grade_tonnage",
    "lat_lon_ratio",
    "distance_from_center",
    "depth_ratio",
    "interval_ratio",
    "log_grade",
    "grade_per_meter",
    "element_encoded",
    "dataset_encoded",
    "labcode_encoded",
    "sample_mean",
    "sample_std",
    "sample_min",
    "sample_max",
    "sample_count",
    "hole_mean",
    "hole_std",
    "hole_min",
    "hole_max",
    "hole_count",
    "element_mean",
    "element_std",
    "element_count",
    "dataset_mean",
    "dataset_std",
    "dataset_count",
    "depth_normalized",
    "elevation_normalized",
    "Depth_From",
    "Depth_To",
    "lat_norm",
    "lon_norm",
    "distance_to_center",
    "angle_from_center",
    "quadrant",
    "grade_rolling_mean",
    "grade_rolling_std",
    "grade_rolling_median",
    "local_coefficient_variation",
    "grade_rolling_q25",
    "grade_rolling_q75",
    "local_iqr",
    "grade_log",
    "grade_sqrt",
    "grade_squared",
    "grade_category",
    "grade_category_encoded",
    "is_anomaly",
    "anomaly_score",
    "avg_neighbor_distance",
    "min_neighbor_distance",
    "max_neighbor_distance",
    "avg_neighbor_grade",
    "grade_vs_neighbors"
  ]
}