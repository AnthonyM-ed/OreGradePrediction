{
  "pipeline_id": "20250718_000046",
  "timestamp": "2025-07-18T00:01:53.913173",
  "model_type": "XGBoostOreGradePredictor",
  "model_path": "data\\models\\grade_model_20250718_000046.joblib",
  "scaler_path": "data\\models\\scaler_20250718_000046.joblib",
  "element": "AG",
  "config": {
    "model_config": {
      "algorithm": "xgboost",
      "target_variable": "standardized_grade_ppm",
      "test_size": 0.2,
      "random_state": 42,
      "cv_folds": 5
    },
    "xgboost_params": {
      "objective": "reg:squarederror",
      "max_depth": 6,
      "learning_rate": 0.1,
      "n_estimators": 100,
      "subsample": 0.8,
      "colsample_bytree": 0.8,
      "random_state": 42
    },
    "feature_engineering": {
      "spatial_features": true,
      "geological_features": true,
      "statistical_features": true,
      "distance_features": true
    },
    "validation_metrics": {
      "primary": [
        "r2",
        "mae",
        "rmse"
      ],
      "secondary": [
        "mape",
        "explained_variance"
      ]
    },
    "data_sources": {
      "main_view": "vw_HoleSamples_ElementGrades",
      "elements": [
        "Cu",
        "Au",
        "Zn",
        "Pb",
        "Fe",
        "Ag"
      ],
      "datasets": [
        "Drilling_INF",
        "Drilling_BF",
        "Drilling_OP"
      ],
      "depth_columns": [
        "Depth_From",
        "Depth_To",
        "Interval_Length"
      ],
      "coordinate_columns": [
        "latitude",
        "longitude",
        "elevation"
      ]
    },
    "preprocessing": {
      "handle_missing": "median",
      "outlier_detection": "iqr",
      "scaling": "standard",
      "feature_selection": "correlation"
    }
  },
  "evaluation_results": {
    "model_name": "XGBoostOreGradePredictor_20250718_000046",
    "evaluation_timestamp": "2025-07-18T00:01:29.471583",
    "test_metrics": {
      "rmse": 322.7731251505443,
      "r2_score": 0.508149283509732,
      "mae": 4.4273660486470225,
      "mse": 104182.49031944892,
      "explained_variance": 0.5081710305764033,
      "mape": 11.231279782493148,
      "bias": -2.146253695474921,
      "relative_bias_percent": -6.099398652302419,
      "cutoff_100ppm_accuracy": 0.9729527918360574,
      "cutoff_500ppm_accuracy": 0.9999170331037915,
      "cutoff_1000ppm_accuracy": 0.9998340662075832,
      "cutoff_2000ppm_accuracy": 0.9997510993113747
    },
    "train_metrics": {
      "rmse": 3.9957212731952265,
      "r2_score": 0.9996370968514455,
      "mae": 0.4976099617777594,
      "mse": 15.965788493064883,
      "explained_variance": 0.999637098513218,
      "mape": 10.525054788766363,
      "bias": -0.008550383418942953,
      "relative_bias_percent": -0.026932940297494868,
      "cutoff_100ppm_accuracy": 0.9746933907226385,
      "cutoff_500ppm_accuracy": 0.9999740710970518,
      "cutoff_1000ppm_accuracy": 0.9999481421941038,
      "cutoff_2000ppm_accuracy": 0.9999740710970518
    },
    "cv_metrics": {
      "neg_mean_squared_error_mean": -10304.540927417425,
      "neg_mean_squared_error_std": 4708.008138971906,
      "neg_mean_squared_error_scores": [
        -15951.288321650969,
        -8307.209675212001,
        -11513.574973689607,
        -2321.5971477077583,
        -13429.034518826793
      ],
      "neg_mean_absolute_error_mean": -3.0042112985799916,
      "neg_mean_absolute_error_std": 0.6155193407626172,
      "neg_mean_absolute_error_scores": [
        -3.607001810674999,
        -2.770147973331479,
        -3.178843965513858,
        -1.9269068565291994,
        -3.538155886850421
      ],
      "r2_mean": 0.707327566689304,
      "r2_std": 0.18326950003650824,
      "r2_scores": [
        0.7832746066782749,
        0.8010018422569587,
        0.532043862913222,
        0.957802978682584,
        0.46251454291548066
      ],
      "rmse_mean": 101.51128472942024,
      "rmse_std": 4708.008138971906,
      "mae_mean": 3.0042112985799916,
      "mae_std": 0.6155193407626172
    },
    "feature_importance": [
      0.007720974739640951,
      0.004495000932365656,
      0.003090127371251583,
      0.007830637507140636,
      0.0009406333556398749,
      0.0041649723425507545,
      0.003412590129300952,
      0.004451495595276356,
      0.0010442063212394714,
      0.0010836044093593955,
      0.051293469965457916,
      0.006656724028289318,
      0.0,
      0.00043833241215907037,
      0.0,
      0.0004653253417927772,
      0.005267219617962837,
      0.010251941159367561,
      0.008727836422622204,
      0.03976175934076309,
      0.012814516201615334,
      0.034937210381031036,
      0.0003242749080527574,
      0.010777601972222328,
      0.011261274106800556,
      0.0,
      0.0,
      0.0,
      0.0,
      2.0157185645075515e-06,
      0.019021499902009964,
      0.0004326242778915912,
      0.007493024691939354,
      0.0017945930594578385,
      0.0005519565311260521,
      0.0005512054776772857,
      8.211254316847771e-05,
      0.0010525680845603347,
      8.584800525568426e-05,
      6.592481804545969e-05,
      0.021978382021188736,
      0.09217187017202377,
      0.015789629891514778,
      0.019477063789963722,
      0.031458284705877304,
      0.10225861519575119,
      0.05793093144893646,
      0.3305637836456299,
      0.011590983718633652,
      0.0,
      0.0,
      0.0,
      0.00479502510279417,
      0.011770420707762241,
      7.330918833758915e-06,
      0.0,
      5.961170245427638e-06,
      0.006114091258496046,
      0.03174249455332756
    ]
  },
  "feature_names": [
    "latitude",
    "longitude",
    "elevation",
    "mid_depth",
    "Interval_Length",
    "grade_tonnage",
    "lat_lon_ratio",
    "distance_from_center",
    "depth_ratio",
    "interval_ratio",
    "log_grade",
    "grade_per_meter",
    "element_encoded",
    "dataset_encoded",
    "labcode_encoded",
    "sample_mean",
    "sample_std",
    "sample_min",
    "sample_max",
    "sample_count",
    "hole_mean",
    "hole_std",
    "hole_min",
    "hole_max",
    "hole_count",
    "element_mean",
    "element_std",
    "element_count",
    "dataset_mean",
    "dataset_std",
    "dataset_count",
    "depth_normalized",
    "elevation_normalized",
    "Depth_From",
    "Depth_To",
    "lat_norm",
    "lon_norm",
    "distance_to_center",
    "angle_from_center",
    "quadrant",
    "grade_rolling_mean",
    "grade_rolling_std",
    "grade_rolling_median",
    "local_coefficient_variation",
    "grade_rolling_q25",
    "grade_rolling_q75",
    "local_iqr",
    "grade_log",
    "grade_sqrt",
    "grade_squared",
    "grade_category",
    "grade_category_encoded",
    "is_anomaly",
    "anomaly_score",
    "avg_neighbor_distance",
    "min_neighbor_distance",
    "max_neighbor_distance",
    "avg_neighbor_grade",
    "grade_vs_neighbors"
  ]
}